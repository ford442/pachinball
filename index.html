<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nexus Cascade</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>

    <div id="game-cabinet">

      <canvas id="pachinball-canvas"></canvas>

      <div id="machine-head">
        </div>

      <div id="cabinet-divider"></div>

      <div id="ball-table"></div>

      <div id="hud">
        <div class="hud-item">Score: <span id="score">0</span></div>
        <div class="hud-item" id="best">Best: 0</div>
        <div class="hud-item" id="combo" style="display:none">Combo</div>
        <div class="hud-item">Balls: <span id="balls">1</span></div>
        <div class="hud-item" id="powerup" style="display:none">Power-up: <span id="powerup-name">—</span></div>
        <div class="hud-item" id="tilt" style="display:none">Tilted</div>
        <div class="hud-item">Lives: <span id="lives">3</span></div>
      </div>

      <div id="menu-overlay" class="overlay">
        <h1>NEXUS</h1>
        <div id="start-screen" class="screen">
          <p>Best: <span id="best-score-menu">0</span></p>
          <p>Left/Right Arrow to Flip</p>
          <p>Space to Launch</p>
          <button id="start-btn">Start Game</button>
        </div>
        <div id="game-over-screen" class="screen hidden">
          <h2>Game Over</h2>
          <p>Final Score: <span id="final-score">0</span></p>
          <p>Best Score: <strong id="best-score-final">0</strong></p>
          <button id="restart-btn">Play Again</button>
        </div>
      </div>

      <div id="pause-overlay" class="overlay hidden">
        <div class="screen">
          <h2>Paused</h2>
          <p>Press <strong>P</strong> to resume</p>
        </div>
      </div>

      <div id="touch-controls">
        <button class="touch-btn" id="touch-left">◀</button>
        <div style="display:flex;flex-direction:column;gap:8px;align-items:center;">
          <button class="touch-btn" id="touch-plunger">⬤</button>
          <button class="touch-btn" id="touch-nudge">Nudge</button>
        </div>
        <button class="touch-btn" id="touch-right">▶</button>
      </div>

    </div>

    <div id="controls-hint">Controls — Left/Right: Flippers &nbsp;|&nbsp; Space: Launch &nbsp;|&nbsp; P: Pause &nbsp;|&nbsp; R: Reset</div>

    <div id="power-toast" class="toast hidden"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
